这里总结下

### UIViewController 的生命周期

```
// loadView() 即加载控制器管理的 view。
// 不能直接手动调用该方法；当 view 被请求却为 nil 时，该方法加载并创建 view。
若控制器有关联的 Nib 文件，该方法会从 Nib 文件中加载 view；如果没有，则创建空白 UIView 对象。
// 如果使用 Interface Builder 创建 view，则务必不要重写该方法。
- （loadView

viewDidLoad

viewWillAppear

viewWillLayoutSubviews

viewDidLayoutSubviews

viewDidAppear

viewWillDisappear

viewDidDisappear

deinit
```

### UIView 的生命周期

```

loadView

viewDidLoad

viewWillAppear

viewWillLayoutSubviews

viewDidLayoutSubviews

viewDidAppear

viewWillDisappear

viewDidDisappear

deinit
```

### drawRect


### viewDidLoad 中设置 ib frame 无效的问题
首先要了解下 ib 中约束生效的时机，UIViewController 会在 viewWillLayoutSubviews 中去加载 ib 文件的约束，在viewDidLoad 中设置的 frame 又被改成了 ib 中的样子。

1. 在viewDidLayoutSubviews中修改frame，这是最简单的方法。
2. 将xib中的约束拖到 Controller 中成为IBOutlet的属性，然后修改该属性。

### layoutSubviews在以下情况下会被调用：

1、init初始化不会触发layoutSubviews

   但是是用initWithFrame 进行初始化时，当rect的值不为CGRectZero时,也会触发

2、addSubview会触发layoutSubviews

3、设置view的Frame会触发layoutSubviews，当然前提是frame的值设置前后发生了变化

4、滚动一个UIScrollView会触发layoutSubviews

5、旋转Screen会触发父UIView上的layoutSubviews事件

6、改变一个UIView大小的时候也会触发父UIView上的layoutSubviews事件

Discussion
The default implementation of this method does nothing on iOS 5.1 and earlier. Otherwise, the default implementation uses any constraints you have set to determine the size and position of any subviews.
Subclasses can override this method as needed to perform more precise layout of their subviews. You should override this method only if the autoresizing and constraint-based behaviors of the subviews do not offer the behavior you want. You can use your implementation to set the frame rectangles of your subviews directly.
You should not call this method directly. If you want to force a layout update, call the setNeedsLayout method instead to do so prior to the next drawing update. If you want to update the layout of your views immediately, call the layoutIfNeeded method.

最后一段说，不要直接调用此方法。如果你想强制更新布局，你可以调用setNeedsLayout方法；如果你想立即数显你的views，你需要调用layoutIfNeed方法。
layoutSubviews对subviews重新布局；
layoutSubviews方法调用先于drawRect；
setNeedsLayout在receiver标上一个需要被重新布局的标记，在系统runloop的下一个周期自动调用layoutSubviews；
layoutIfNeeded方法如其名，UIKit会判断该receiver是否需要layout.根据Apple官方文档,layoutIfNeeded方法应该是这样的
layoutIfNeeded遍历的不是superview链，应该是subviews链
drawRect是对receiver的重绘，能获得context；
setNeedDisplay在receiver标上一个需要被重新绘图的标记，在下一个draw周期自动重绘，iphone device的刷新频率是60hz，也就是1/60秒后重绘。
————————————————
版权声明：本文为CSDN博主「xiaoxiaobukuang」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/xiaoxiaobukuang/article/details/51594157